{"ast":null,"code":"var _jsxFileName = \"/home/parag/Documents/parag/Other/My Data/projects/ledzer/src/component/authentication/ProtectedRoutes.js\",\n    _s = $RefreshSig$();\n\nimport { useContext } from \"react\"; // import { useLocation, Navigate, Outlet } from \"react-router-dom\";\n// import { useIdleTimer } from \"react-idle-timer\";\n// import AuthContext from \"../../context/AuthProvider\";\n// import SidePanel from \"../../common/SidePanel\";\n// import { PATH_LOGIN } from \"../../constants\";\n// import { removeUserLocalStorageData } from \"../../common/StoreLocalData\";\n\nimport { Header } from \"../../common\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProtectedRoutes = () => {\n  _s();\n\n  const {\n    auth,\n    setAuth\n  } = useContext(AuthContext);\n  const location = useLocation();\n  useIdleTimer({\n    crossTab: true,\n    leaderElection: true,\n    timeout: 900000,\n    onIdle: () => {\n      removeUserLocalStorageData();\n      setAuth === null || setAuth === void 0 ? void 0 : setAuth({});\n    }\n  });\n  return auth !== null && auth !== void 0 && auth.token ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SidePanel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid \",\n      children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: PATH_LOGIN,\n    state: {\n      from: location\n    },\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProtectedRoutes, \"722seP+QOJPvKEK2VYWPI/oWtCo=\", true);\n\n_c = ProtectedRoutes;\nexport default ProtectedRoutes;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProtectedRoutes\");","map":{"version":3,"names":["useContext","Header","ProtectedRoutes","auth","setAuth","AuthContext","location","useLocation","useIdleTimer","crossTab","leaderElection","timeout","onIdle","removeUserLocalStorageData","token","PATH_LOGIN","from"],"sources":["/home/parag/Documents/parag/Other/My Data/projects/ledzer/src/component/authentication/ProtectedRoutes.js"],"sourcesContent":["import { useContext } from \"react\";\n// import { useLocation, Navigate, Outlet } from \"react-router-dom\";\n// import { useIdleTimer } from \"react-idle-timer\";\n\n// import AuthContext from \"../../context/AuthProvider\";\n// import SidePanel from \"../../common/SidePanel\";\n\n// import { PATH_LOGIN } from \"../../constants\";\n// import { removeUserLocalStorageData } from \"../../common/StoreLocalData\";\nimport { Header } from \"../../common\";\n\nconst ProtectedRoutes = () => {\n  const { auth, setAuth } = useContext(AuthContext);\n  const location = useLocation();\n\n  useIdleTimer({\n    crossTab: true,\n    leaderElection: true,\n    timeout: 900000,\n    onIdle: () => {\n      removeUserLocalStorageData();\n      setAuth?.({});\n    },\n  });\n\n  return auth?.token ? (\n    <>\n      <Header />\n      <SidePanel />\n\n      <div className=\"container-fluid \">\n        <Outlet />\n      </div>\n    </>\n  ) : (\n    <Navigate to={PATH_LOGIN} state={{ from: location }} replace />\n  );\n};\n\nexport default ProtectedRoutes;\n"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,OAA3B,C,CACA;AACA;AAEA;AACA;AAEA;AACA;;AACA,SAASC,MAAT,QAAuB,cAAvB;;;;AAEA,MAAMC,eAAe,GAAG,MAAM;EAAA;;EAC5B,MAAM;IAAEC,IAAF;IAAQC;EAAR,IAAoBJ,UAAU,CAACK,WAAD,CAApC;EACA,MAAMC,QAAQ,GAAGC,WAAW,EAA5B;EAEAC,YAAY,CAAC;IACXC,QAAQ,EAAE,IADC;IAEXC,cAAc,EAAE,IAFL;IAGXC,OAAO,EAAE,MAHE;IAIXC,MAAM,EAAE,MAAM;MACZC,0BAA0B;MAC1BT,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAG,EAAH,CAAP;IACD;EAPU,CAAD,CAAZ;EAUA,OAAOD,IAAI,SAAJ,IAAAA,IAAI,WAAJ,IAAAA,IAAI,CAAEW,KAAN,gBACL;IAAA,wBACE,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,SAAD;MAAA;MAAA;MAAA;IAAA,QAFF,eAIE;MAAK,SAAS,EAAC,kBAAf;MAAA,uBACE,QAAC,MAAD;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QAJF;EAAA,gBADK,gBAUL,QAAC,QAAD;IAAU,EAAE,EAAEC,UAAd;IAA0B,KAAK,EAAE;MAAEC,IAAI,EAAEV;IAAR,CAAjC;IAAqD,OAAO;EAA5D;IAAA;IAAA;IAAA;EAAA,QAVF;AAYD,CA1BD;;GAAMJ,e;;KAAAA,e;AA4BN,eAAeA,eAAf"},"metadata":{},"sourceType":"module"}