{"ast":null,"code":"import axios from \"axios\";\nconst axiosInstance = axios.create({\n  baseURL: process.env.REACT_APP_BASE_APP_URL,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\naxiosInstance.interceptors.request.use(config => {\n  const updatedConfig = config;\n  let token = localStorage.getItem(\"token\");\n\n  if (updatedConfig.url === \"/user/resetpassword\" || updatedConfig.url === \"/user/updateverifystatus\") {\n    token = updatedConfig.params.token;\n  } // @ts-ignore\n\n\n  updatedConfig.headers.Authorization = token ? `Bearer ${token}` : \"\";\n  return updatedConfig;\n}, error => Promise.reject(error));\naxiosInstance.interceptors.response.use(res => res, error => {\n  if (error.response.status === 401 || error.response.status === 403) {\n    localStorage.removeItem(\"token\");\n    window.location.href = \"/\";\n  }\n\n  return Promise.reject(error);\n});\nexport default axiosInstance;","map":{"version":3,"names":["axios","axiosInstance","create","baseURL","process","env","REACT_APP_BASE_APP_URL","headers","interceptors","request","use","config","updatedConfig","token","localStorage","getItem","url","params","Authorization","error","Promise","reject","response","res","status","removeItem","window","location","href"],"sources":["/home/parag/Documents/parag/Other/My Data/projects/ledzer/src/axiosInstance.js"],"sourcesContent":["import axios from \"axios\";\n\nconst axiosInstance = axios.create({\n  baseURL: process.env.REACT_APP_BASE_APP_URL,\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\naxiosInstance.interceptors.request.use(\n  (config) => {\n    const updatedConfig = config;\n    let token = localStorage.getItem(\"token\");\n    if (\n      updatedConfig.url === \"/user/resetpassword\" ||\n      updatedConfig.url === \"/user/updateverifystatus\"\n    ) {\n      token = updatedConfig.params.token;\n    }\n    // @ts-ignore\n    updatedConfig.headers.Authorization = token ? `Bearer ${token}` : \"\";\n    return updatedConfig;\n  },\n  (error) => Promise.reject(error)\n);\n\naxiosInstance.interceptors.response.use(\n  (res) => res,\n  (error) => {\n    if (error.response.status === 401 || error.response.status === 403) {\n      localStorage.removeItem(\"token\");\n      window.location.href = \"/\";\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default axiosInstance;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,aAAa,GAAGD,KAAK,CAACE,MAAN,CAAa;EACjCC,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,sBADY;EAEjCC,OAAO,EAAE;IACP,gBAAgB;EADT;AAFwB,CAAb,CAAtB;AAOAN,aAAa,CAACO,YAAd,CAA2BC,OAA3B,CAAmCC,GAAnC,CACGC,MAAD,IAAY;EACV,MAAMC,aAAa,GAAGD,MAAtB;EACA,IAAIE,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;;EACA,IACEH,aAAa,CAACI,GAAd,KAAsB,qBAAtB,IACAJ,aAAa,CAACI,GAAd,KAAsB,0BAFxB,EAGE;IACAH,KAAK,GAAGD,aAAa,CAACK,MAAd,CAAqBJ,KAA7B;EACD,CARS,CASV;;;EACAD,aAAa,CAACL,OAAd,CAAsBW,aAAtB,GAAsCL,KAAK,GAAI,UAASA,KAAM,EAAnB,GAAuB,EAAlE;EACA,OAAOD,aAAP;AACD,CAbH,EAcGO,KAAD,IAAWC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAdb;AAiBAlB,aAAa,CAACO,YAAd,CAA2Bc,QAA3B,CAAoCZ,GAApC,CACGa,GAAD,IAASA,GADX,EAEGJ,KAAD,IAAW;EACT,IAAIA,KAAK,CAACG,QAAN,CAAeE,MAAf,KAA0B,GAA1B,IAAiCL,KAAK,CAACG,QAAN,CAAeE,MAAf,KAA0B,GAA/D,EAAoE;IAClEV,YAAY,CAACW,UAAb,CAAwB,OAAxB;IACAC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;EACD;;EACD,OAAOR,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACD,CARH;AAWA,eAAelB,aAAf"},"metadata":{},"sourceType":"module"}